<div class="sidebar p-3">
  <div class="sidebar-brand mb-3">
    <div class="brand-mark">
      <i class="fa-solid fa-people-group"></i>
    </div>
    <div class="brand-text">
      <div class="brand-title">mini-hr-360</div>
      <div class="brand-subtitle">BUSINESS MANAGEMENT</div>
    </div>
  </div>

  <div class="sidebar-profile mb-3">
    <div class="profile-avatar">
      <i class="fa-solid fa-user"></i>
    </div>
    <div class="profile-meta">
      <div class="profile-name">
        {{#if user.firstName}}{{user.firstName}}{{else}}User{{/if}}
        {{#if user.lastName}} {{user.lastName}}{{/if}}
      </div>
      <div class="profile-role">
        {{#if user.role}}{{user.role}}{{else}}ADMINISTRATOR{{/if}}
      </div>
    </div>
  </div>

  <nav class="nav flex-column">
    <div class="sidebar-item">
      <a class="nav-link {{#if (eq active 'settings')}}active{{/if}}" href="#" onclick="return false;">
        <i class="fa-solid fa-gear"></i>
        Settings
      </a>
    </div>

    <div class="menu-toggle mt-1" onclick="toggleMenu('workspace-submenu')">
      <div class="nav-link {{#if (eq activeGroup 'workspace')}}active{{/if}}">
        <i class="fa-solid fa-briefcase"></i>
        Workspace
        <i class="fas fa-chevron-down float-end"></i>
      </div>
    </div>

    <div class="submenu show" id="workspace-submenu">
      <a class="nav-link {{#if (eq active 'dashboard')}}active{{/if}}" href="/dashboard">
        <i class="fas fa-tachometer-alt"></i> Dashboard
      </a>
      <a class="nav-link {{#if (eq active 'business')}}active{{/if}}" href="/business">
        <i class="fas fa-building"></i> My Businesses
      </a>
      <a class="nav-link {{#if (eq active 'employees')}}active{{/if}}" href="/employees">
        <i class="fas fa-user-tie"></i> Employee Management
      </a>

      

      <!-- Leave Management Submenu -->
      <div class="submenu-toggle" onclick="toggleMenu('leave-submenu')">
        <div class="nav-link submenu-parent {{#if (or (eq active 'leaveRequests') (or (eq active 'leaveTypes') (eq active 'leaveBalances')))}}active{{/if}}">
          <i class="fas fa-calendar-alt"></i>
          Leave Management
          <i class="fas fa-chevron-down submenu-arrow {{#if (or (eq active 'leaveRequests') (or (eq active 'leaveTypes') (eq active 'leaveBalances')))}}open{{/if}}"></i>
        </div>
      </div>
      <div class="nested-submenu {{#if (or (eq active 'leaveRequests') (or (eq active 'leaveTypes') (eq active 'leaveBalances')))}}show{{/if}}" id="leave-submenu">
        <a class="nav-link {{#if (eq active 'leaveRequests')}}active{{/if}}" href="/leave-requests">
          <i class="fas fa-clipboard-list"></i> Leave Requests
        </a>
        <a class="nav-link {{#if (eq active 'leaveTypes')}}active{{/if}}" href="/leave-requests/leave-types">
          <i class="fas fa-tags"></i> Leave Types
        </a>
        <a class="nav-link {{#if (eq active 'leaveBalances')}}active{{/if}}" href="/leave-requests/leave-balances">
          <i class="fas fa-balance-scale"></i> Leave Balances
        </a>
      </div>

      <!-- Attendance Submenu -->
      <div class="submenu-toggle mt-2" onclick="toggleMenu('attendance-submenu')">
        <div class="nav-link submenu-parent {{#if (or (eq active 'attendance-dashboard') (or (eq active 'attendance-policies') (or (eq active 'attendance-shifts') (or (eq active 'attendance-holidays') (or (eq active 'attendance-assignments') (or (eq active 'attendance-logs') (or (eq active 'attendance-regularizations') (or (eq active 'attendance-reports') (eq active 'attendance-lock')))))))))}}active{{/if}}">
          <i class="fas fa-clock"></i>
          Attendance
          <i class="fas fa-chevron-down submenu-arrow {{#if (or (eq active 'attendance-dashboard') (or (eq active 'attendance-policies') (or (eq active 'attendance-shifts') (or (eq active 'attendance-holidays') (or (eq active 'attendance-assignments') (or (eq active 'attendance-logs') (or (eq active 'attendance-regularizations') (or (eq active 'attendance-reports') (eq active 'attendance-lock')))))))))}}open{{/if}}"></i>
        </div>
      </div>
      <div class="nested-submenu {{#if (or (eq active 'attendance-dashboard') (or (eq active 'attendance-policies') (or (eq active 'attendance-shifts') (or (eq active 'attendance-holidays') (or (eq active 'attendance-assignments') (or (eq active 'attendance-logs') (or (eq active 'attendance-regularizations') (or (eq active 'attendance-reports') (eq active 'attendance-lock')))))))))}}show{{/if}}" id="attendance-submenu">
        <div class="sidebar-group px-3 pt-2 pb-2 text-uppercase small text-muted">Overview</div>
        <a class="nav-link {{#if (eq active 'attendance-dashboard')}}active{{/if}}" href="/admin/attendance">
          <i class="fas fa-tachometer-alt"></i> Dashboard
        </a>

        <div class="sidebar-group px-3 pt-3 pb-2 text-uppercase small text-muted">Manage</div>
        <a class="nav-link {{#if (eq active 'attendance-policies')}}active{{/if}}" href="/admin/attendance/policies">
          <i class="fas fa-file-contract"></i> Policies
        </a>
        <a class="nav-link {{#if (eq active 'attendance-shifts')}}active{{/if}}" href="/admin/attendance/shifts">
          <i class="fas fa-clock"></i> Shifts
        </a>
        <a class="nav-link {{#if (eq active 'attendance-holidays')}}active{{/if}}" href="/admin/attendance/holidays">
          <i class="fas fa-calendar-day"></i> Holidays
        </a>
        <a class="nav-link {{#if (eq active 'attendance-assignments')}}active{{/if}}" href="/admin/attendance/assignments">
          <i class="fas fa-user-tag"></i> Assignments
        </a>

        <div class="sidebar-group px-3 pt-3 pb-2 text-uppercase small text-muted">Operations</div>
        <a class="nav-link {{#if (eq active 'attendance-logs')}}active{{/if}}" href="/admin/attendance/logs">
          <i class="fas fa-book"></i> Logs
        </a>
        <a class="nav-link {{#if (eq active 'attendance-regularizations')}}active{{/if}}" href="/admin/attendance/regularizations">
          <i class="fas fa-pen-ruler"></i> Regularizations
        </a>
        <a class="nav-link {{#if (eq active 'attendance-reports')}}active{{/if}}" href="/admin/attendance/reports">
          <i class="fas fa-chart-line"></i> Reports
        </a>
        <a class="nav-link {{#if (eq active 'attendance-lock')}}active{{/if}}" href="/admin/attendance/lock">
          <i class="fas fa-lock"></i> Lock
        </a>
      </div>

      <a class="nav-link {{#if (eq active 'documents')}}active{{/if}}" href="/documents">
        <i class="fas fa-file-signature"></i> Generate Documents
      </a>

      <hr />
      <a class="nav-link {{#if (eq active 'documentTypes')}}active{{/if}}" href="/document-types">
        <i class="fas fa-layer-group"></i> Document Templates
      </a>
      <a class="nav-link {{#if (eq active 'emailTemplates')}}active{{/if}}" href="/email-templates">
        <i class="fas fa-envelope-open-text"></i> Email Templates
      </a>
      <a class="nav-link {{#if (eq active 'departments')}}active{{/if}}" href="/departments">
        <i class="fa-solid fa-building-columns"></i> Manage Departments
      </a>
      <a class="nav-link {{#if (eq active 'designations')}}active{{/if}}" href="/designations">
        <i class="fa-solid fa-id-badge"></i> Manage Designations
      </a>
      <a class="nav-link {{#if (eq active 'businessAddresses')}}active{{/if}}" href="/business-addresses">
        <i class="fas fa-map-marker-alt"></i> Manage Business Addresses
      </a>
    </div>

    <div class="sidebar-item mt-1">
      <a class="nav-link {{#if (eq active 'billing')}}active{{/if}}" href="/billing">
        <i class="fa-solid fa-crown"></i>
        Billing &amp; Plan
      </a>
    </div>

    <div class="sidebar-divider"></div>

    <a class="nav-link" href="#" onclick="logout(); return false;">
      <i class="fas fa-sign-out-alt"></i>
      Logout
    </a>
  </nav>
</div>